{% extends "base.html" %}

{% block title %}{% if module %}Edit{% else %}New{% endif %} Module - Homelab Inventory{% endblock %}

{% block content %}
<div class="page-header">
    <h1>{% if module %}Edit Module{% else %}New Module{% endif %}</h1>
</div>

<form method="POST" class="form">
    <div class="form-group">
        <label for="name">Name *</label>
        <input type="text" id="name" name="name" value="{{ module.name if module else '' }}" required>
        <small>Unique name for this storage module (e.g., "Zeus", "Main Workbench", "Muse")</small>
    </div>

    <div class="form-group">
        <label for="description">Description</label>
        <textarea id="description" name="description" rows="3">{{ module.description if module else '' }}</textarea>
        <small>Optional description of what's stored here</small>
    </div>

    <div class="form-group">
        <label for="location_description">Physical Location</label>
        <input type="text" id="location_description" name="location_description" value="{{ module.location_description if module else '' }}">
        <small>Where this module is located in your lab/shop (e.g., "North wall", "Under bench")</small>
    </div>

    <div class="form-actions">
        <button type="submit" class="btn btn-primary">{% if module %}Update{% else %}Create{% endif %} Module</button>
        <a href="{% if module %}{{ url_for('modules.view_module', module_id=module.id) }}{% else %}{{ url_for('modules.list_modules') }}{% endif %}" class="btn btn-secondary">Cancel</a>
    </div>
</form>

{% if module %}
<div class="danger-zone">
    <h3>Danger Zone</h3>
    <p>Deleting this module will also delete all its levels and locations. This action cannot be undone.</p>
    <form method="POST" action="{{ url_for('modules.delete_module', module_id=module.id) }}" onsubmit="return confirm('Are you sure you want to delete this module? This will also delete all levels and locations.');">
        <button type="submit" class="btn btn-danger">Delete Module</button>
    </form>
</div>
{% endif %}
{% endblock %}
